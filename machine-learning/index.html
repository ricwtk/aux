<!DOCTYPE html><html><head> <meta charset="utf-8"> <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> <title>Machine learning</title></head><body> <div id="app"> <v-app> <v-main> <v-container fluid style="width: 100vw; height: 100vh" class="d-flex flex-column align-center"> <v-sheet width="80%" height="100%" class="d-flex flex-column"> <v-row class="flex-grow-0" no-gutters> <v-col> <v-text-field label="Student ID" v-model="studentId" readonly outlined hide-details flat dense class="align-center"> <template v-slot:append-outer> <v-btn icon @click="studentId_overlay=true" title="edit settings"><v-icon>mdi-pencil</v-icon></v-btn> </template> <template v-slot:prepend> <v-btn icon href="./help" target="_blank" title="documentation"><v-icon>mdi-help-circle</v-icon></v-btn> </template> </v-text-field> </v-col> </v-row> <v-row class="" style="overflow:auto"> <v-col> <template v-for="d,i in data"> <v-row> <v-col class="text-end"> <v-btn class="ma-2" v-for="(item, index) in cell_types" v-if="item.show" :key="`${item.type}-${index}-btn`" @click="insert_new_cell(i,item.type)">{{item.label}}</v-btn> </v-col> </v-row> <v-row :key="i"><v-col> <v-card> <v-card-title class="subtitle-1 py-0"> <v-btn icon title="edit cell" @click="edit_data.index=i;edit_data.overlay=true;"><v-icon>mdi-pencil</v-icon></v-btn> <v-btn icon title="copy cell" @click="copied_cell=JSON.parse(JSON.stringify(d))"><v-icon>mdi-content-copy</v-icon></v-btn> <v-btn icon title="move cell up" :disabled="i==0" @click="data.splice(i-1,0,data.splice(i,1)[0])"><v-icon>mdi-chevron-up</v-icon></v-btn> <v-btn icon title="move cell down" :disabled="i==data.length - 1" @click="data.splice(i+1,0,data.splice(i,1)[0])"><v-icon>mdi-chevron-down</v-icon></v-btn> <v-spacer></v-spacer> <v-btn icon title="remove cell" @click="data.splice(i,1)"><v-icon>mdi-minus</v-icon></v-btn> </v-card-title> <v-card-text> <template v-if="d.type=='text'"> <pre><code v-html="data[i].content"></code></pre> </template> <template v-if="d.type=='table'"> <v-simple-table> <template v-slot:default> <thead> <tr style="background-color: #ddd;"> <th v-for="colhead,h in d.content.headers" class="text-center">{{data[i].content.headers[h]}}</th> </tr></thead> <tbody> <tr v-for="row,r in d.content.content"> <td v-for="cell,c in row" class="text-center">{{data[i].content.content[r][c]}}</td></tr></tbody> </template> </v-simple-table> </template> </v-card-text> </v-card> </v-col></v-row> </template> <v-row> <v-col class="text-end"> <v-btn class="ma-2" v-for="(item, index) in cell_types" v-if="item.show" :key="`${item.type}-${index}-btn`" @click="insert_new_cell(data.length,item.type)">{{item.label}}</v-btn> </v-col> </v-row> </v-col> </v-row> <v-row class="flex-grow-0" no-gutters> <v-col class="mr-2"><v-btn block color="" @click="upload.overlay=true" dark>Upload</v-btn></v-col> <v-col><v-btn block color="primary" @click="download">Download</v-btn></v-col> </v-row> </v-sheet> <v-dialog v-model="studentId_overlay"> <v-card> <v-card-title></v-card-title> <v-card-text> <v-text-field class="mb-4" label="Student ID" v-model="studentId" outlined persistent-hint hint="Any changes to the student ID will remove all manually inserted data"></v-text-field> </v-card-text> <v-card-actions> <v-spacer></v-spacer> <v-btn color="primary" @click="studentId_overlay=false">Ok</v-btn> </v-card-actions> </v-card> </v-dialog> <v-dialog v-model="edit_data.overlay"> <v-card v-if="edit_data.index < data.length"> <v-card-title>Edit{{data[edit_data.index].type}}cell</v-card-title> <v-card-text> <template v-if="data[edit_data.index].type=='text'"> <v-textarea v-model="data[edit_data.index].content" auto-grow outlined rows="1" hide-details style="font-family:monospace"></v-textarea> </template> <template v-if="data[edit_data.index].type=='table'"> <v-simple-table> <template v-slot:default> <thead> <tr> <th width="1%"> <v-btn icon title="add column to the right" @click="add_new_col(edit_data.index,0)"><v-icon>mdi-table-column-plus-after</v-icon></v-btn> </th> <th v-for="newcol,c in data[edit_data.index].content.headers.length" class="text-center"> <v-row> <v-col><v-btn icon title="remove column" @click="remove_col(edit_data.index,c)"><v-icon>mdi-table-column-remove</v-icon></v-btn></v-col> <v-col cols="auto"><v-btn icon title="add column to the right" @click="add_new_col(edit_data.index,c+1)"><v-icon>mdi-table-column-plus-after</v-icon></v-btn></v-col> </v-row> </th> <th width="1%"></th> </tr><tr style="background-color: #ddd;"> <th><v-btn icon title="add row after" @click="add_new_row(edit_data.index,0)"><v-icon>mdi-table-row-plus-after</v-icon></v-btn></th> <th v-for="colhead,h in data[edit_data.index].content.headers"> <v-text-field v-model="data[edit_data.index].content.headers[h]" hide-details outlined dense></v-text-field> </th> <th></th> </tr></thead> <tbody> <tr v-for="row,r in data[edit_data.index].content.content"> <td><v-btn icon title="add row after" @click="add_new_row(edit_data.index,r+1)"><v-icon>mdi-table-row-plus-after</v-icon></v-btn></td><td v-for="cell,c in row"> <v-text-field v-model="data[edit_data.index].content.content[r][c]" hide-details outlined dense></v-text-field> </td><td><v-btn icon title="remove row" @click="remove_row(edit_data.index,r)"><v-icon>mdi-table-row-remove</v-icon></v-btn></td></tr></tbody> </template> </v-simple-table> </template> </v-card-text> </v-card> </v-dialog> <v-dialog v-model="upload.overlay"> <v-card> <v-card-title></v-card-title> <v-card-text> <v-alert type="info">You only need this function if the website has crashed.</v-alert> <v-row><v-col>This function is only for uploading your previously downloaded files.</v-col></v-row> <v-file-input v-model="upload.file" label="Upload file"></v-file-input> <v-alert type="error" v-if="upload.error.length > 0">{{upload.error}}</v-alert> </v-card-text> <v-card-actions> <v-spacer></v-spacer> <v-btn color="primary" @click="upload_file">Upload</v-btn> </v-card-actions> </v-card> </v-dialog> </v-container> </v-main> </v-app> </div><script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script> <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script> <style>code{background-color: transparent!important; color: inherit!important; padding: 0!important; width: 100%!important; display: inline-block!important; overflow: auto!important; white-space: pre-wrap!important; font-size: 14px!important;}</style> <script>let vm=new Vue({el: '#app', vuetify: new Vuetify(), data:{studentId: "00000000", studentId_overlay: true, data: [], default_values: [], raw_data:{type: "table", content:{headers: ['x','y'], content: [ [0,0], [0.1,0.1], [0.15,0.2], [0.2,0.1], [0.25,0.15], [0.3,0.25]]}}, copied_cell:{}, cell_types: [{label: "Add text", type: "text", show: true},{label: "Add empty table", type: "table", show: true},{label: "Insert raw data", type: "raw", show: true},{label: "Paste copied cell", type: "paste", show: false}], edit_data:{overlay: false, index: 0}, upload:{overlay: false, file: undefined, error: ""}}, mounted: function (){this.init_data();}, watch:{studentId: function (){console.log("Student ID updated"); this.init_data();}, copied_cell: function (newVal){if (Object.keys(newVal).length > 0){this.cell_types[this.cell_types.findIndex(x=> x.type=='paste')].show=true;}}}, computed:{sd: function (){return this.studentId;}}, methods:{init_data: function (){this.data=JSON.parse(JSON.stringify(this.default_values));}, insert_new_cell: function (i,type){let new_cell={type: type, content: null}; if (type=="text"){new_cell.content="";}else if (type=="table"){new_cell.content={headers: [""], content: [[""]]}}else if (type=="raw"){new_cell=JSON.parse(JSON.stringify(this.raw_data));}else if (type=="paste"){new_cell=JSON.parse(JSON.stringify(this.copied_cell));}this.data.splice(i, 0, new_cell); this.edit_data.index=i; this.edit_data.overlay=true;}, add_new_col: function (d,c){this.data[d].content.headers.splice(c,0,""); this.data[d].content.content.forEach(r=>{r.splice(c,0,"");});}, add_new_row: function (d,r){this.data[d].content.content.splice(r, 0, this.data[d].content.headers.map(x=> ""));}, remove_col: function (d,c){this.data[d].content.headers.splice(c,1); this.data[d].content.content.forEach(r=>{r.splice(c,1);});}, remove_row: function (d,r){this.data[d].content.content.splice(r, 1);}, download: function (){let dldata={studentId: this.studentId, data: JSON.parse(JSON.stringify(this.data))}; let j=document.createElement("a"); j.download="machinelearning.json"; j.href=URL.createObjectURL(new Blob([JSON.stringify(dldata)])); j.click();}, upload_file: function (){if (this.upload.file !==undefined){const reader=new FileReader(); reader.onload=(ev)=>{try{let fileContent=JSON.parse(ev.target.result); this.studentId=fileContent.studentId; this.$nextTick().then(()=>{this.data=fileContent.data;}).then(()=>{this.upload.overlay=false;}).catch(err=>{this.upload.error=err.message;});}catch (err){this.upload.error=err.message;}}; reader.readAsText(this.upload.file);}}}}); </script></body></html>